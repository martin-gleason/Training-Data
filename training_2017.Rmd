---
title: "R Notebook"
output: html_notebook
---
```{r, include= T, echo = F, error = F}
library("tidyverse")
library("readxl")
library("knitr")


#sworn staff data gathering

sworn_2017 <- read_xls("/Users/martin.gleason/Dropbox (Personal)/Documents/Training/Database/Copy of Updated 2017 Training Database.xls", sheet = 2)

total_2017_hours <- read_xls("/Users/martin.gleason/Dropbox (Personal)/Documents/Training/Database/Copy of Updated 2017 Training Database.xls", sheet = 3)

total_2017_hours$`TOTAL HOURS` <- as.numeric(total_2017_hours$`TOTAL HOURS`)

under_20_2017 <- total_2017_hours %>% filter(`TOTAL HOURS` < 20 & is.na(`LEAVE START`))

#support Pro data gathering 

support_pro_2017 <- read_xls("/Users/martin.gleason/Dropbox (Personal)/Documents/Training/Database/Updated Support Staff 2017.xls", sheet = 1)
support_pro_2017_hours <- read_xls("/Users/martin.gleason/Dropbox (Personal)/Documents/Training/Database/Updated Support Staff 2017.xls", sheet = 2)

under_10_support_pro <- support_pro_2017_hours %>% filter(`TRAINING HOURS`< 10)

title_of_training <- sworn_2017 %>% filter(!is.na(`TITLE OF TRAINING`)) %>% 
  select(`TITLE OF TRAINING`) %>% unique()

suport_training_titles <- support_pro_2017 %>% filter(!is.na(`TITLE OF TRAINING`)) %>%
  select(`TITLE OF TRAINING`) %>% unique()

#gathering total trainings
title_of_training <- title_of_training %>% bind_rows(suport_training_titles) %>% unique()
 
```

# Sworn Staff

The following sworn staff did not make their hours in 2017 AND there was no documentation about their status regarding leave or retirement. It appears from my reading that there are 4 officers who do not have their totals done.
```{r, include= T, echo = F}
kable(under_20_2017)
```
# Number of Trainings 
530 trainings were offered in FY 2017 based on the records in the database. This is an 11% drop in trainings offered overall[^1]. The titles of all trainings were as follows:
```{r, include = T, echo = F}
kable(title_of_training)
```
